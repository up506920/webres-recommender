<html>
    <head>
        <title>LocaLikes</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link rel="stylesheet" media='screen and (max-width: 450px)' href="css/phone.css"/>
        <link rel="stylesheet" media='screen and (min-width: 451px)' href="css/computer.css"/>

        <script src="http://maps.googleapis.com/maps/api/js"></script>
        <script src="/js/jquery-2.2.0.js"></script>
    </head>
    <body>
        <div id="heading">
            <a href="/"><img src="img/logo.png" alt="LocaLikes Logo"></a>
            <a href="/settings"><p>User Settings</p></a>
        </div>

        <div id="googleMap">
        </div>
        <script type="text/javascript">
        var placeData = {{{ place }}};
        $(document).ready(function(){
          $("#placeName").append(placeData.placeName);
          $("#distance").append(placeData.distance + "km");
          $("#yelpStars").append(placeData.yelpStars + "/5");
          $("#address").append(placeData.address);
          $("#description").append(placeData.description);

        })
        function initMap() {
          if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(function(position) {
              userCoOrds = {
                lat: position.coords.latitude,
                lng: position.coords.longitude
              };
            var map = new google.maps.Map(document.getElementById('googleMap'), {
                zoom: 14,
                center: userCoOrds
            });
            var currentMarker = new google.maps.Marker({position: userCoOrds,map: map,title: 'Current Location'});
            var newMarker = new google.maps.Marker({position: placeData.coOrds,map:map,title: placeData.placeName});
              }, function() {

              });
            } else {
              // Browser doesn't support Geolocation
              // Default Portsmouth location
              userCoOrds = {lat: 50.799059, lng: -1.098358};
              map.setCenter(userCoOrds);
              var currentMarker = new google.maps.Marker({position: userCoOrds,map: map,title: 'Current Location'});
              var newMarker = new google.maps.Marker({position: placeData.coOrds,map:map,title: placeData.placeName});
            }



            }
        </script>
        <script async defer
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCcNVkAZUueobny42EN0qu5FM5XOEMHRmI&callback=initMap">
        </script>

        <div id="locationButton"><input type="button" value="Show Location" id="locationClick" onclick="showLocation()"/></div>
        <div id="locationButton2"><input type="button" value="Hide Location" id="locationClick2" onclick="hideLocation()"/></div>
        <div id="location">
            <div id="places2">
                <div id=""placeLinkLeft>
                    <img src="img/placeholder.png" alt="LocaLikes Logo">
                </div>
                <div id="placeLingRight">
                    <p id="placeName"></p>
                </div>
                    <p id="distance"></p>
                    <p id="yelpStars"></p>
                    <p id="address"><p>
                    <p id="description"></p>
            </div>
        </div>
        <hr>

        <script src="js/hideDivs.js"></script>
    </body>
</html>
